<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

	<ul id="list">
	</ul>


	<script type="text/javascript">
	
	function getF(k){
		return function() {
			alert(k);	
		}
	}
	
	function f(){
		for (var i = 0, list = document.getElementById("list"), item; i < 5; i++) {
			item = document.createElement("li");
			item.innerHTML = "List item #" + i;
			item.addEventListener('click', getF(i));
			list.appendChild(item);
		}
	}
	f();
	</script>


</body>
</html>